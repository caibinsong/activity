<!DOCTYPE html>
<html lang="zh">

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>jquery登录拖动滑块验证码效果</title>
		<link href="css/formDrag.css" rel="stylesheet" type="text/css" />
		<style>
			body{
				background-color: black;
			}
			.drag{
				margin-bottom:10px;
			}
		</style>
	</head>

	<body>
		<div class="drag"></div>
		<div class="drag"></div>
		<div class="drag"></div>
		<script src="js/jquery-1.9.1.js" type="text/javascript"></script>
		<script src="js/formDrag.js" type="text/javascript"></script>
		<script type="text/javascript">
			$('.drag').formDrag({
//				width: 400,							//拖动块的宽度
//				tipText: 'please drag this chunk',	//拖动提示文本
//				okText: 'pass',						//验证成功提示文本
//				okTextColor: 'red',					//验证成功提示文本颜色
//				dragBgColor: 'blue'					//拖动时背景变化颜色
			});
			function getBase64Image (img){
				var canvas = document.createElement('canvas');
				canvas.width = img.width;
				canvas.height = img.height;
				
				var ctx = canvas.getContext('2d');
				ctx.drawImage(img, 0, 0,img.width, img.height);
				
				var dataUrl = canvas.toDataURL('image/png');
				return dataUrl;
			}
			var img = document.createElement('img');
			img.onload = function (){
				console.log(getBase64Image(img));
			}
			img.src = 'darrow.png';
		</script>
	</body>

</html>